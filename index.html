<!DOCTYPE html>
<!-- Mango Renderer -->
<!-- Want lots of customizability, ease of use, and shortcuts -->
<!-- Ultimate goal: Use live in lectures and whenever by anyone -->

<html lang="en-US">
  <head>
    <title>Mango</title>
    <link rel="stylesheet" href="main.css">
    <script defer src="main.js"></script>
    <script defer src="settings.js"></script>
    <script defer src="snippets.js"></script>
    <!-- Scroll Sync -->
    <script defer src="syncscroll.js"></script>
    <!-- fa Icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
    <!-- KaTeX with Auto-render Extension -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
    <!-- CopyTeX to copy TeX when selected -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/copy-tex.min.js" integrity="sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A" crossorigin="anonymous"></script>
    <!-- Showdown -->
    <script src="https://cdn.rawgit.com/showdownjs/showdown/2.1.0/dist/showdown.min.js"></script>
  </head>

  <body>
    <!-- Topbar -->
    <header>
      <div></div> <!-- Placeholder for flexbox to push gear to right -->
      <h1><em>Mango</em></h1>
      <button id="settings-button"><i class="fa fa-cog fa-lg"></i></button>
    </header>
    <!-- Main Display -->
    <main>
      <section class="user-text-block">
        <textarea id="user-text" class="syncscroll" name="text-disp-couple" oninput="mainUpdate()" onkeypress="getLastChar(event)" onclick="mainUpdate()" spellcheck="false"></textarea>
      </section>
      
      <section class="render-block">
        <div class="render-wrapper">
          <div id="render-display" class="syncscroll" name="text-disp-couple"></div>
          <div class="scroll-placeholder"></div>
        </div>
      </section>
    </main>
    
    <!-- Settings Window -->
    <div id="saturation-reducer"></div>
    <div id="settings-window">
      <div id="settings-tab-panel">
        <h4>SETTINGS</h4>
        <hr>
        <button class="settings-nav-button" data-divid="settings-editor-section" id="editor-button">EDITOR</button>
        <button class="settings-nav-button" data-divid="settings-display-section" id="display-button">DISPLAY</button>
      </div>
      <div id="settings-main">
        <div id="settings-editor-section" class="settings-section">
          <label><input type="checkbox" id="cb-use-math-newlines" checked>Replace enter with '\\' when in math block</label><br/>
          <label><input type="checkbox" id="cb-auto-align-equals" checked>Align equal signs on different lines in same math block</label><br/>
          <label><input type="checkbox" id="cb-use-col-vec-syntax" checked>Use column vector syntax</label><br/>
        </div>
        <div id="settings-display-section" class="settings-section">
          <label><input type="checkbox" id="cb-toggle-debug" checked>Show debug overlay</label>
        </div>
      </div>
    <div id="close-settings">
      <button id="close-settings-button"><i class="fa fa-close"></i></button>
      <p>ESC</p>
    </div>
    </div>

    <!-- Debug Box -->
    <div id="debug-box">
      <table>
        <tr>
          <td>Cursor Start:</td>
          <td><span id="debug-cursor-start">0</span></td>
        </tr>
        <tr>
          <td>Cursor End:</td>
          <td><span id="debug-cursor-end">0</span></td>
        </tr>
        <tr>
          <td>Current Char:</td>
          <td><span id="debug-current-char"></span></td>
        </tr>
        <tr>
          <td>Last Char Entered:</td>
          <td><span id="debug-char-entered"></span></td>
        </tr>
        <tr>
          <td>Cursor Block:</td>
          <td><span id="debug-cursor-block">1</span></td>
        </tr>
        <tr>
          <td>Math Block Value:</td>
          <td><span id="debug-math-value"></span></td>
        </tr>
        <tr>
          <td>Is Math:</td>
          <td><span id="debug-is-math"></span></td>
        </tr>
        <tr>
          <td>Current Selection:</td>
          <td><span id="debug-current-selection"></span></td>
        </tr>
      </table>  
    </div>
  </body>
</html>
  